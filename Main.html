<!DOCTYPE html>
<html lang="en" x-data>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>F.A.S.T Admin Dashboard</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
<script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
  body { transition: background-color 0.5s, color 0.5s; }
  .perspective { perspective: 1200px; }
  .carousel-item { transition: transform 0.7s, opacity 0.7s, box-shadow 0.5s; }
  .hover-glow:hover { box-shadow: 0 0 30px rgba(255,255,0,0.6); }
  .animate-pulse-glow { animation: pulseGlow 2s infinite ease-in-out; }
  @keyframes pulseGlow {
    0%, 100% { transform: scale(1); box-shadow: 0 0 20px rgba(255,255,0,0.4); }
    50% { transform: scale(1.05); box-shadow: 0 0 35px rgba(255,255,0,0.6); }
  }
</style>
</head>
<body class="min-h-screen bg-gray-950 font-[Montserrat] text-gray-100 transition-colors duration-500 flex flex-col">

<!-- Header -->
<header class="bg-white/5 backdrop-blur-xl border-b border-white/10 shadow-md sticky top-0 z-50 transition">
  <div class="max-w-7xl mx-auto flex items-center justify-between px-6 py-4">
    <div class="flex items-center gap-4">
      <img src="/images/logo.png" alt="F.A.S.T Logo" class="w-14 h-14 rounded-full border-2 border-yellow-400 shadow-lg hover:scale-105 transition-transform">
      <div>
        <h1 class="text-2xl font-bold tracking-wide text-yellow-400 drop-shadow-lg">F.A.S.T</h1>
        <p class="text-sm text-gray-300">Facial Authentication & Signature Technology</p>
      </div>
    </div>

    <div class="flex items-center gap-5">
      <span class="text-yellow-400 font-semibold hidden sm:block">BATELEC II Lipa</span>

      <!-- Profile Dropdown -->
      <div class="relative" x-data="{ open: false }">
        <button @click="open = !open" class="flex items-center gap-2 bg-white/10 px-4 py-2 rounded-xl shadow-lg hover:bg-white/20 transition">
          <i class="fas fa-user-circle text-yellow-400 text-lg"></i>
          <span class="text-sm font-medium">Head Admin</span>
          <i class="fas fa-chevron-down text-xs ml-1"></i>
        </button>
        <div x-show="open" @click.away="open=false" x-transition class="absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/20 z-50">
          <a href="#" class="block px-4 py-3 text-gray-200 hover:bg-white/5 transition rounded-lg">Profile</a>
          <a href="#" class="block px-4 py-3 text-gray-200 hover:bg-white/5 transition rounded-lg">Settings</a>
          <a href="#" @click="logout()" class="block px-4 py-3 text-red-500 hover:bg-white/5 transition rounded-lg">Log out</a>
        </div>
      </div>

      <!-- Notifications -->
      <div class="relative" x-data="{ open: false }">
        <i @click="open = !open" class="fas fa-bell cursor-pointer text-xl hover:text-yellow-400 transition relative">
          <span class="absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full animate-ping"></span>
        </i>
        <div x-show="open" x-transition class="absolute right-0 mt-3 w-80 bg-white/10 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/20 z-50">
          <h4 class="px-4 py-3 font-semibold border-b border-white/20 text-gray-200 flex justify-between items-center">
            Notifications
            <button class="text-xs text-yellow-400 hover:underline" @click="markAllRead()">Mark all read</button>
          </h4>
          <ul class="max-h-60 overflow-y-auto text-sm">
            <li class="px-4 py-3 text-gray-200 font-medium hover:bg-white/5 transition rounded-lg">New user registered
              <span class="text-xs text-gray-400 float-right">Sep 14, 2025 10:15</span>
            </li>
            <li class="px-4 py-3 text-gray-400 hover:bg-white/5 transition rounded-lg">System backup completed
              <span class="text-xs text-gray-400 float-right">Sep 13, 2025 22:30</span>
            </li>
            <li class="px-4 py-3 text-gray-300">No new notifications</li>
          </ul>
        </div>
      </div>

    </div>
  </div>
</header>

<!-- Navigation -->
<nav class="bg-white/5 backdrop-blur-xl border-b border-white/10 shadow-md sticky top-[72px] z-40">
  <div class="max-w-7xl mx-auto flex items-center space-x-6 px-6 py-3 text-sm font-medium overflow-x-auto">
    <div class="nav-item flex items-center gap-2 px-4 py-2 rounded-xl cursor-pointer hover:bg-yellow-400/20 transition" data-page="./windows/Dashboard.html">
      <i class="fas fa-home"></i> <span>Dashboard</span>
    </div>
    <div class="nav-item flex items-center gap-2 px-4 py-2 rounded-xl cursor-pointer hover:bg-yellow-400/20 transition" data-page="./windows/UserManagement.html">
      <i class="fas fa-users"></i> <span>User Management</span>
    </div>
    <div class="nav-item flex items-center gap-2 px-4 py-2 rounded-xl cursor-pointer hover:bg-yellow-400/20 transition" data-page="./windows/Documents.html">
      <i class="fas fa-file-alt"></i> <span>Documents</span>
    </div>
    <div class="nav-item flex items-center gap-2 px-4 py-2 rounded-xl cursor-pointer hover:bg-yellow-400/20 transition" data-page="./windows/BioRecords.html">
      <i class="fas fa-fingerprint"></i> <span>Biometric Data</span>
    </div>
    <div class="nav-item flex items-center gap-2 px-4 py-2 rounded-xl cursor-pointer hover:bg-yellow-400/20 transition" data-page="./windows/Events.html">
      <i class="fas fa-calendar-alt"></i> <span>Events</span>
    </div>
  </div>
</nav>

<!-- Main Content -->
<main id="main-content" class="max-w-7xl mx-auto p-6 flex-1">

  <!-- Welcome Card -->
  <div class="bg-gradient-to-r from-yellow-500/20 via-yellow-400/10 to-yellow-500/20 backdrop-blur-xl border border-white/10 rounded-3xl p-10 shadow-2xl text-center mb-8 hover:shadow-3xl transition hover-glow">
    <h2 class="text-3xl font-bold mb-4 text-yellow-400">Welcome to <span class="text-white">F.A.S.T Admin Dashboard</span></h2>
    <p class="text-gray-300 text-lg">Manage users, documents, events, and biometric data efficiently using the menu above.</p>
  </div>

  <!-- 3D Carousel -->
  <div x-data="carousel3D()" x-init="init()" class="relative w-full max-w-5xl mx-auto perspective">
    <div class="relative h-96 flex justify-center items-center">
      <template x-for="(slide, index) in slides" :key="index">
        <div class="absolute carousel-item rounded-3xl shadow-2xl overflow-hidden hover-glow flex flex-col items-center"
             :style="getStyle(index)"
             :class="{'animate-pulse-glow': current===index}">
          <img :src="slide.src" alt="" class="w-80 h-64 object-cover rounded-3xl">
          <div class="mt-2 text-center text-white font-semibold text-sm" x-text="slide.caption"></div>
        </div>
      </template>
    </div>

    <!-- Controls -->
    <button @click="prev()" class="absolute top-1/2 left-2 transform -translate-y-1/2 bg-black/50 text-white p-3 rounded-full hover:bg-black/70 transition z-50">
      <i class="fas fa-chevron-left"></i>
    </button>
    <button @click="next()" class="absolute top-1/2 right-2 transform -translate-y-1/2 bg-black/50 text-white p-3 rounded-full hover:bg-black/70 transition z-50">
      <i class="fas fa-chevron-right"></i>
    </button>

    <!-- Dot Pagination -->
    <div class="absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-2">
      <template x-for="(slide, index) in slides" :key="index">
        <span @click="goTo(index)"
              :class="{'bg-yellow-400': current===index, 'bg-gray-400': current!==index}"
              class="w-3 h-3 rounded-full cursor-pointer transition"></span>
      </template>
    </div>
  </div>

</main>

<!-- Footer -->
<footer class="bg-white/5 backdrop-blur-xl border-t border-white/10 shadow-inner mt-auto">
  <div class="max-w-7xl mx-auto px-6 py-4 flex flex-col items-center text-gray-400 text-sm text-center space-y-1">
    <span>&copy; 2025 F.A.S.T Admin Dashboard. All rights reserved.</span>
    <span>BATELEC II Lipa City</span>
  </div>
</footer>

<script>
function carousel3D() {
  return {
    current: 0,
    slides: [
      { src: '/images/LogInBG.jpg', caption: 'Welcome to F.A.S.T Dashboard' },
      { src: '/images/OIP.webp', caption: 'Manage Users & Documents Easily' },
      { src: '/images/vn3.jpg', caption: 'Track Biometric Data Efficiently' },
      { src: '/images/LogInBG.jpg', caption: 'Fast & Secure Technology' },
      { src: '/images/OIP.webp', caption: 'Stay Productive & Organized' }
    ],
    interval: null,
    init() {
      this.play();
      document.addEventListener('keydown', (e)=>{
        if(e.key==='ArrowLeft') this.prev();
        if(e.key==='ArrowRight') this.next();
      });
    },
    play() { this.interval = setInterval(() => this.next(), 4000); },
    pause() { clearInterval(this.interval); },
    prev() { this.current = (this.current === 0 ? this.slides.length - 1 : this.current - 1); },
    next() { this.current = (this.current === this.slides.length - 1 ? 0 : this.current + 1); },
    goTo(index) { this.current = index; },
    getStyle(index) {
      const total = this.slides.length;
      const offset = (index - this.current + total) % total;
      const angle = offset * 45 - 90;
      const rad = angle * Math.PI / 180;
      const radius = 250;
      const x = radius * Math.sin(rad);
      const z = radius * (1 - Math.cos(rad));
      const scale = offset === 0 ? 1 : 0.7;
      const zIndex = offset === 0 ? 20 : 10;
      const opacity = Math.abs(offset) > 2 ? 0 : 1;
      return `transform: translateX(${x}px) translateZ(${-z}px) rotateY(${angle}deg) scale(${scale}); z-index:${zIndex}; opacity:${opacity};`;
    }
  }
}

// Navigation Loader
document.querySelectorAll(".nav-item").forEach(item => {
  item.addEventListener("click", () => {
    const page = item.dataset.page;
    fetch(page).then(res => res.text()).then(data => document.getElementById("main-content").innerHTML = data)
      .catch(() => document.getElementById("main-content").innerHTML = "<div class='p-6 text-center text-red-400'>Error loading page.</div>");
    document.querySelectorAll(".nav-item").forEach(i => i.classList.remove("bg-yellow-400/20","text-yellow-400"));
    item.classList.add("bg-yellow-400/20","text-yellow-400");
  });
});

// Logout
function logout() {
  Swal.fire({
    title:"Are you sure?", text:"You will be logged out of the system.", icon:"warning",
    showCancelButton:true, confirmButtonColor:"#d33", cancelButtonColor:"#3085d6",
    confirmButtonText:"Yes, log out"
  }).then((result)=>{ if(result.isConfirmed) window.location.href="Login.html"; });
}

// Notifications
function markAllRead() {
  document.querySelectorAll('.fa-bell + span').forEach(el => el.remove());
  Swal.fire('All notifications marked as read', '', 'success');
}
</script>
</body>
</html>
